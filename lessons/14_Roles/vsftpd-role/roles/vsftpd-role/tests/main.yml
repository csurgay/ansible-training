---
    - name: Test host3.lftp to host2.vsftpd get file to host3
      ansible.builtin.shell:
        cmd: |
          lftp -u devops,devops host2<<EOF
          cd /tmp
          get /etc/hosts
          bye
          EOF
      register: result_lftp

    - name: Print debug if failed
      ansible.builtin.debug:
        var: result_lftp
      when: result_lftp is failed

    - name: Register uploadad file content
      ansible.builtin.shell:
        cmd: cat /home/devops/hosts
      register: result_cat

    - name: Print file content
      ansible.builtin.debug:
        msg: "{{ result_cat.stdout }}"

